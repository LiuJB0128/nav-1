{"mappings":"kBAAMA,EAAYC,EAAE,aACdC,EAAUF,EAAUG,KAAK,WACzBC,EAAIC,aAAaC,QAAQ,KAEzBC,EADUC,KAAKC,MAAML,IACXM,CAAAA,CACXC,KAAM,mDAAoDC,IAAK,qBAAsBC,MAAO,OAC5FF,KAAM,oDAAqDC,IAAK,sBAAuBC,MAAO,WAG7FC,EAAeF,GACZA,EAAIG,QAAQ,WAAY,IAC5BA,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,IAChBA,QAAQ,OAAQ,IAGfC,EAAS,KACXhB,EAAUG,KAAK,iBAAiBc,SAChCV,EAAQW,SAAQ,CAACC,EAAMC,WACbC,EAAMpB,EAAAA,yEAEckB,EAAKR,kDACFQ,EAAKN,wPAOxBS,aAAapB,GACrBmB,EAAIE,GAAG,SAAS,KACdC,OAAOC,KAAKN,EAAKP,QAEnBS,EAAIE,GAAG,QAAQ,UAAWG,IACxBA,EAAEC,kBACFpB,EAAQqB,OAAOR,EAAO,GACtBJ,WAKZT,EAAQW,SAAQC,IACAlB,EAAAA,4BACKkB,EAAKP,4FAGRO,EAAKR,kEAEcQ,EAAKN,8DAG9BS,aAAapB,MAGzBc,IAEAf,EAAE,cACCsB,GAAG,SAAS,SACLM,EAAOL,OAAOM,OAAO,MACrBlB,EAAMY,OAAOM,OAAO,MACxBlB,EAAME,EAAYF,GACO,IAAtBA,EAAImB,QAAQ,UACXnB,EAAM,WAAaA,OAEnBoB,EAAM,qBAAuBlB,EAAYF,GAAO,wBACpDL,EAAQ0B,KAAAA,CACJtB,KAAMqB,EACNpB,IAAKA,EACLC,MAAOgB,IAEXb,OAGNQ,OAAOU,eAAiB,WACdC,EAAS3B,KAAK4B,UAAU7B,GAC9BF,aAAagC,QAAQ,IAAKF","sources":["./src/main.js"],"sourcesContent":["const $siteList = $('.siteList');\r\nconst $lastLi = $siteList.find('li.last');\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst hashMap = xObject || [\r\n    {logo: '<img src=\"https://juejin.cn/favicon.ico\" alt=\"\">', url: 'https://juejin.cn/', title: '掘金'},\r\n    {logo: '<img src=\"https://github.com/favicon.ico\" alt=\"\">', url: 'https://github.com/', title: 'GitHub'},\r\n];\r\n\r\nconst simplifyUrl = (url) => {\r\n  return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = ()=>{\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li>\r\n            <div class=\"site\">\r\n              <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"title\">${node.title}</div>\r\n                <div class=\"close\" title=\"移除\">\r\n                  <svg class=\"icon\"\">\r\n                    <use xlink:href=\"#icon-remove\"></use>\r\n                  </svg>\r\n                </div>\r\n            </div>\r\n          </li>`).insertBefore($lastLi)\r\n          $li.on('click', () => {\r\n            window.open(node.url)\r\n          })\r\n          $li.on('click','.close', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            render()\r\n          })\r\n    }) \r\n}\r\n\r\nhashMap.forEach(node=>{\r\n    const $li = $(`<li>\r\n          <a href=\"${node.url}\">\r\n            <div class=\"site\">\r\n              <div class=\"logo\">\r\n                ${node.logo}\r\n              </div>\r\n                <div class=\"title\">${node.title}</div>\r\n            </div>\r\n          </a>\r\n    </li>`).insertBefore($lastLi)\r\n})\r\n\r\nrender()\r\n\r\n$('.addButton')\r\n  .on('click', ()=>{\r\n      let name = window.prompt('名称')\r\n      let url = window.prompt('网址')\r\n      url = simplifyUrl(url) \r\n      if(url.indexOf('http')!==0){\r\n          url = 'https://' + url\r\n      }\r\n      let img = '<img src=\"https://' + simplifyUrl(url) + '/favicon.ico\" alt=\"\">'\r\n      hashMap.push({\r\n          logo: img,\r\n          url: url,\r\n          title: name\r\n      });\r\n      render()\r\n  });\r\n\r\nwindow.onbeforeunload = ()=>{\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)\r\n}"],"names":["$16b5ad875ae907e2f7f79e7b8fe116cc$var$$siteList","$","$16b5ad875ae907e2f7f79e7b8fe116cc$var$$lastLi","find","$16b5ad875ae907e2f7f79e7b8fe116cc$var$x","localStorage","getItem","$16b5ad875ae907e2f7f79e7b8fe116cc$var$hashMap","JSON","parse","$16b5ad875ae907e2f7f79e7b8fe116cc$var$xObject","logo","url","title","$16b5ad875ae907e2f7f79e7b8fe116cc$var$simplifyUrl","replace","$16b5ad875ae907e2f7f79e7b8fe116cc$var$render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","name","prompt","indexOf","img","push","onbeforeunload","string","stringify","setItem"],"version":3,"file":"index.HASH_REF_83d4711ea689fc47f03deb70f03c99b4.js.map"}