{"mappings":";MAAM,+CAAS,GAAG,CAAC,EAAC,SAAW;MACzB,6CAAO,GAAG,+CAAS,CAAC,IAAI,EAAC,OAAS;MAClC,uCAAC,GAAG,YAAY,CAAC,OAAO,EAAC,CAAG;MAC5B,6CAAO,GAAG,IAAI,CAAC,KAAK,CAAC,uCAAC;MACtB,6CAAO,GAAG,6CAAO;;QAClB,IAAI,GAAE,gDAAkD;QAAE,GAAG,GAAE,kBAAoB;QAAE,KAAK,GAAE,MAAI;;;QAC5F,IAAA,GAAE,iDAAmD;QAAE,GAAG,GAAE,mBAAqB;QAAE,KAAK,GAAE,MAAQ;;;MAGrG,iDAAW,IAAI,GAAG;WACf,GAAG,CAAC,OAAO,EAAC,QAAU,OAC1B,OAAO,EAAC,OAAS,OACjB,OAAO,EAAC,IAAM,OACd,OAAO;;MAGN,4CAAM;IACR,+CAAS,CAAC,IAAI,EAAC,aAAe,GAAE,MAAM;IACtC,6CAAO,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK;cAClB,GAAG,GAAG,CAAC,EAAE,sEAES,EAAE,IAAI,CAAC,IAAI,CAAC,2CACT,EAAE,IAAI,CAAC,KAAK,CAAC,mPAOjC,GAAG,YAAY,CAAC,6CAAO;QAC5B,GAAG,CAAC,EAAE,EAAC,KAAO;YACZ,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG;;QAEtB,GAAG,CAAC,EAAE,EAAC,KAAO,IAAC,MAAQ,IAAG,CAAC;YACzB,CAAC,CAAC,eAAe;YACjB,6CAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACvB,4CAAM;;;;AAKlB,6CAAO,CAAC,OAAO,EAAC,IAAI;UACV,GAAG,GAAG,CAAC,EAAE,yBACA,EAAE,IAAI,CAAC,GAAG,CAAC,sFAGd,EAAE,IAAI,CAAC,IAAI,CAAC,2DAEO,EAAE,IAAI,CAAC,KAAK,CAAC,qDAGvC,GAAG,YAAY,CAAC,6CAAO;;AAGhC,4CAAM;AAEN,CAAC,EAAC,UAAY,GACX,EAAE,EAAC,KAAO;QACH,IAAI,GAAG,MAAM,CAAC,MAAM,EAAC,MAAI;QACrB,GAAD,GAAG,MAAM,CAAC,MAAM,EAAC,MAAI;IAC5B,GAAG,GAAG,iDAAW,CAAC,GAAG;QAClB,GAAG,CAAC,OAAO,EAAC,IAAM,OAAI,CAAC,EACtB,GAAG,IAAG,QAAU,IAAG,GAAG;QAEtB,GAAG,IAAG,kBAAoB,IAAG,iDAAW,CAAC,GAAG,KAAI,qBAAuB;IAC3E,6CAAO,CAAC,IAAI;QACR,IAAI,EAAE,GAAG;QACT,GAAG,EAAE,GAAG;QACR,KAAK,EAAE,IAAI;;IAEf,4CAAM;;AAGZ,MAAM,CAAC,cAAc;UACX,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,6CAAO;IACrC,YAAY,CAAC,OAAO,EAAC,CAAG,GAAE,MAAM","sources":["src/main.js"],"sourcesContent":["const $siteList = $('.siteList');\r\nconst $lastLi = $siteList.find('li.last');\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst hashMap = xObject || [\r\n    {logo: '<img src=\"https://juejin.cn/favicon.ico\" alt=\"\">', url: 'https://juejin.cn/', title: '掘金'},\r\n    {logo: '<img src=\"https://github.com/favicon.ico\" alt=\"\">', url: 'https://github.com/', title: 'GitHub'},\r\n];\r\n\r\nconst simplifyUrl = (url) => {\r\n  return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = ()=>{\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li>\r\n            <div class=\"site\">\r\n              <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"title\">${node.title}</div>\r\n                <div class=\"close\" title=\"移除\">\r\n                  <svg class=\"icon\"\">\r\n                    <use xlink:href=\"#icon-remove\"></use>\r\n                  </svg>\r\n                </div>\r\n            </div>\r\n          </li>`).insertBefore($lastLi)\r\n          $li.on('click', () => {\r\n            window.open(node.url)\r\n          })\r\n          $li.on('click','.close', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            render()\r\n          })\r\n    }) \r\n}\r\n\r\nhashMap.forEach(node=>{\r\n    const $li = $(`<li>\r\n          <a href=\"${node.url}\">\r\n            <div class=\"site\">\r\n              <div class=\"logo\">\r\n                ${node.logo}\r\n              </div>\r\n                <div class=\"title\">${node.title}</div>\r\n            </div>\r\n          </a>\r\n    </li>`).insertBefore($lastLi)\r\n})\r\n\r\nrender()\r\n\r\n$('.addButton')\r\n  .on('click', ()=>{\r\n      let name = window.prompt('名称')\r\n      let url = window.prompt('网址')\r\n      url = simplifyUrl(url) \r\n      if(url.indexOf('http')!==0){\r\n          url = 'https://' + url\r\n      }\r\n      let img = '<img src=\"https://' + simplifyUrl(url) + '/favicon.ico\" alt=\"\">'\r\n      hashMap.push({\r\n          logo: img,\r\n          url: url,\r\n          title: name\r\n      });\r\n      render()\r\n  });\r\n\r\nwindow.onbeforeunload = ()=>{\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)\r\n}"],"names":[],"version":3,"file":"index.HASH_REF_83d4711ea689fc47f03deb70f03c99b4.js.map"}